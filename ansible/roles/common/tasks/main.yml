---
# ğŸ”§ ROLE COMMON - ConfiguraciÃ³n base para todos los servidores
- name: "ğŸ“¦ Actualizar cache de paquetes"
  apt:
    update_cache: yes
    cache_valid_time: 3600

- name: "ğŸ”§ Instalar paquetes bÃ¡sicos"
  apt:
    name:
      - curl
      - wget
      - vim
      - htop
      - git
      - ufw
      - unzip
    state: present

- name: "ğŸ‘¥ Crear usuarios del sistema"
  include_tasks: users.yml

- name: "ğŸ”¥ Configurar firewall bÃ¡sico"
  ufw:
    state: enabled
    policy: deny
    direction: incoming

- name: "ğŸ”“ Permitir SSH"
  ufw:
    rule: allow
    port: "22"

- name: "â° Configurar timezone"
  timezone:
    name: "{{ system_timezone | default('UTC') }}"
